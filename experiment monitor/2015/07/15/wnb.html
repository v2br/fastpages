<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>a post with code | Vadim’s notes</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="a post with code" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="an example of a blog post with some code" />
<meta property="og:description" content="an example of a blog post with some code" />
<link rel="canonical" href="https://v2br.github.io/fastpages/experiment%20monitor/2015/07/15/wnb.html" />
<meta property="og:url" content="https://v2br.github.io/fastpages/experiment%20monitor/2015/07/15/wnb.html" />
<meta property="og:site_name" content="Vadim’s notes" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-07-15T10:09:00-05:00" />
<script type="application/ld+json">
{"url":"https://v2br.github.io/fastpages/experiment%20monitor/2015/07/15/wnb.html","@type":"BlogPosting","headline":"a post with code","dateModified":"2015-07-15T10:09:00-05:00","datePublished":"2015-07-15T10:09:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://v2br.github.io/fastpages/experiment%20monitor/2015/07/15/wnb.html"},"description":"an example of a blog post with some code","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/fastpages/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://v2br.github.io/fastpages/feed.xml" title="Vadim's notes" /><link rel="shortcut icon" type="image/x-icon" href="/fastpages/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/fastpages/">Vadim&#39;s notes</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/fastpages/about/">About Me</a><a class="page-link" href="/fastpages/extra/">Extra</a><a class="page-link" href="/fastpages/search/">Search</a><a class="page-link" href="/fastpages/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">a post with code</h1><p class="page-description">an example of a blog post with some code</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2015-07-15T10:09:00-05:00" itemprop="datePublished">
        Jul 15, 2015
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      5 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/fastpages/categories/#experiment monitor">experiment monitor</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>My
Wanb
Goal: save model metadata and results of each run</p>

<h2>!!!!!</h2>

<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>t</mi></msub><mo>=</mo><mi>R</mi><mi>e</mi><mi>L</mi><mi>U</mi><mo stretchy="false">(</mo><mi>W</mi><msub><mi>x</mi><mi>t</mi></msub><mo>+</mo><mo stretchy="false">(</mo><mi>U</mi><mo>+</mo><mi>I</mi><mo stretchy="false">)</mo><msub><mi>h</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h_t= ReLU(Wx_t + (U+I)h_{t-1} + b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">e</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mclose">)</span></span></span></span></span>

<p>##!!</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="s">"Python syntax highlighting"</span>
<span class="k">print</span> <span class="n">s</span>
</code></pre></div></div>
<p>How to use:
  Include:</p>

<p>import wandb
  from wandb.keras import WandbCallback
——————————–
really finish thinkful!
finally have Portfolio and posts
——————————————</p>

<p>my pages:</p>
<ol>
  <li>educational:</li>
  <li>databases</li>
  <li>overall analysisis approach</li>
  <li>pandas
  4.</li>
</ol>

<p>page:</p>

<p>applying go big or go home to many areas is a recipie for constant self-critism dissapointement and possible depression.
Motivation Monkey loves to push us to make a big moves and then hides when things gets tough.
People often naturaly think in big chunks. They they underestimate the size of the step!!
!! if it is difficult for you to do tiny step (place your cup in place) clean up in the moring, then you have to watch carefully on most important steps!</p>

<p>The big thing is growing confidence with evry step no matter succesful or not.
 If behaviour is not sucsesful Should i through it? Shoule break it to small steps?
 If you change it it is success, and you don’t go into self-smaming spiral!</p>

<p>For me mountain climb is attractive even it looks difficult. Shasta was difficult, but i did one step a time feel great  rest and do the next the key is to get into flow and rest along the way.</p>

<p>The idea is to buid a set of small habbits and master to do them no matter what.
 The most important thing that you build the confidence in your ability and learn resilience and adaptation. You lso learn to congradulate yourwself often!
 ———</p>

<p>June.11
 Result was so so, but still something. The idea is to get  all areas moving every day.</p>

<p>Money, communication , reading, writing, … people side ???</p>

<p>3 approachecs to make the behaviour easie to do</p>
<ol>
  <li>increase your skills!!  repeat easy steps and learn the next one</li>
  <li>get tools and resources</li>
</ol>

<p>Decigion fatigue: necesity to make a decigion when your are least capable to do it.</p>

<p>So behavior analysis:
 Do I want to do it? Priority?
 What makes it difficult?
  Do i have skills, tools, … best when motivation is high
  Can  I start tiny small? what is the smallest ammount that could be considered finished?</p>

<p>The key moment is to repeat small steps without raising the bar!!
  The problem often is the mental effort … could be easier if you break it to smaller modules …</p>

<hr />
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>
<span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="n">smf</span>
<span class="kn">from</span> <span class="nn">statsmodels.sandbox.regression.predstd</span> <span class="kn">import</span> <span class="n">wls_prediction_std</span>

<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="n">sns</span><span class="p">.</span><span class="n">set_style</span><span class="p">(</span><span class="s">'white'</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Read data into a DataFrame.  diffrent year !!!!
</span><span class="n">data_url</span> <span class="o">=</span> <span class="s">'..\..\datasets\offenses_Known_to_Law_Enforcement_by_New_York_by_City_2014.csv'</span>
<span class="n">data</span><span class="o">=</span><span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">data_url</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="p">{</span><span class="s">'Murder'</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span><span class="s">'Arson'</span><span class="p">:</span><span class="nb">str</span><span class="p">})</span>

<span class="n">data</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>

</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>City</th>
      <th>Population</th>
      <th>ViolentCrime</th>
      <th>Murder</th>
      <th>Rape</th>
      <th>Robbery</th>
      <th>Assault</th>
      <th>PropertyCrime</th>
      <th>Burglary</th>
      <th>LarcenyTheft</th>
      <th>CarTheft</th>
      <th>Arson</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Adams Village</td>
      <td>1,851</td>
      <td>0</td>
      <td>0</td>
      <td>NaN</td>
      <td>0</td>
      <td>0</td>
      <td>11</td>
      <td>1</td>
      <td>10</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Addison Town and Village</td>
      <td>2,568</td>
      <td>2</td>
      <td>0</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>49</td>
      <td>1</td>
      <td>47</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Afton Village4</td>
      <td>820</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Akron Village</td>
      <td>2,842</td>
      <td>1</td>
      <td>0</td>
      <td>NaN</td>
      <td>0</td>
      <td>1</td>
      <td>17</td>
      <td>0</td>
      <td>17</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Albany4</td>
      <td>98,595</td>
      <td>802</td>
      <td>8</td>
      <td>54</td>
      <td>237</td>
      <td>503</td>
      <td>3,888</td>
      <td>683</td>
      <td>3,083</td>
      <td>122</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">#data['Population']=data['Population'].apply(fn)
</span><span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">dtypes</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>City             object
Population       object
ViolentCrime     object
Murder           object
Rape             object
Robbery          object
Assault          object
PropertyCrime    object
Burglary         object
LarcenyTheft     object
CarTheft         object
Arson            object
dtype: object
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Write out the model formula.
# Your dependent variable on the right, independent variables on the left
# Use a ~ to represent an '=' from the functional form
</span><span class="n">df</span><span class="o">=</span><span class="n">data</span><span class="p">.</span><span class="n">drop</span><span class="p">([</span><span class="s">'City'</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#  make pupulation a number
#dfm = df.apply(lambda x: x.str.replace(',','').apply(pd.to_numeri
</span><span class="n">dfm</span><span class="o">=</span><span class="n">df</span><span class="p">.</span><span class="nb">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">.</span><span class="nb">str</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">','</span><span class="p">,</span><span class="s">''</span><span class="p">).</span><span class="nb">apply</span><span class="p">(</span><span class="n">pd</span><span class="p">.</span><span class="n">to_numeric</span><span class="p">))</span>
<span class="n">dfm</span><span class="p">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">dfm</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['Population', 'ViolentCrime', 'Murder', 'Rape', 'Robbery', 'Assault', 'PropertyCrime', 'Burglary', 'LarcenyTheft', 'CarTheft', 'Arson']
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">linear_formula</span> <span class="o">=</span> <span class="s">'PropertyCrime ~Population + ViolentCrime + Murder + Rape + Robbery + Assault + PropertyCrime + Burglary + LarcenyTheft + CarTheft + Arson'</span>
<span class="c1"># Fit the model to our data using the formula.
</span><span class="n">lm</span> <span class="o">=</span> <span class="n">smf</span><span class="p">.</span><span class="n">ols</span><span class="p">(</span><span class="n">formula</span><span class="o">=</span><span class="n">linear_formula</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">dfm</span><span class="p">).</span><span class="n">fit</span><span class="p">()</span>
<span class="n">lm</span><span class="p">.</span><span class="n">summary</span><span class="p">()</span>
</code></pre></div></div>

<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>      <td>PropertyCrime</td>  <th>  R-squared:         </th>  <td>   1.000</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th>  <td>   1.000</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th>  <td>9.569e+28</td>
</tr>
<tr>
  <th>Date:</th>             <td>Sat, 09 Mar 2019</td> <th>  Prob (F-statistic):</th>   <td>  0.00</td>  
</tr>
<tr>
  <th>Time:</th>                 <td>09:27:06</td>     <th>  Log-Likelihood:    </th>  <td>  7873.8</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   369</td>      <th>  AIC:               </th> <td>-1.572e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   357</td>      <th>  BIC:               </th> <td>-1.568e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>    11</td>      <th>                     </th>      <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>      <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
        <td></td>           <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P&gt;|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>     <td> 7.105e-14</td> <td> 8.91e-12</td> <td>    0.008</td> <td> 0.994</td> <td>-1.74e-11</td> <td> 1.76e-11</td>
</tr>
<tr>
  <th>Population</th>    <td>-1.475e-17</td> <td> 7.67e-16</td> <td>   -0.019</td> <td> 0.985</td> <td>-1.52e-15</td> <td> 1.49e-15</td>
</tr>
<tr>
  <th>ViolentCrime</th>  <td> 6.395e-14</td> <td> 5.76e-12</td> <td>    0.011</td> <td> 0.991</td> <td>-1.13e-11</td> <td> 1.14e-11</td>
</tr>
<tr>
  <th>Murder</th>        <td> 1.421e-13</td> <td> 1.42e-11</td> <td>    0.010</td> <td> 0.992</td> <td>-2.79e-11</td> <td> 2.82e-11</td>
</tr>
<tr>
  <th>Rape</th>          <td>-2.487e-14</td> <td> 6.28e-12</td> <td>   -0.004</td> <td> 0.997</td> <td>-1.24e-11</td> <td> 1.23e-11</td>
</tr>
<tr>
  <th>Robbery</th>       <td>-4.619e-14</td> <td>    6e-12</td> <td>   -0.008</td> <td> 0.994</td> <td>-1.18e-11</td> <td> 1.17e-11</td>
</tr>
<tr>
  <th>Assault</th>       <td>-2.132e-14</td> <td> 5.59e-12</td> <td>   -0.004</td> <td> 0.997</td> <td> -1.1e-11</td> <td>  1.1e-11</td>
</tr>
<tr>
  <th>PropertyCrime</th> <td>    1.0000</td> <td> 2.67e-11</td> <td> 3.75e+10</td> <td> 0.000</td> <td>    1.000</td> <td>    1.000</td>
</tr>
<tr>
  <th>Burglary</th>      <td>-3.197e-14</td> <td> 2.67e-11</td> <td>   -0.001</td> <td> 0.999</td> <td>-5.25e-11</td> <td> 5.24e-11</td>
</tr>
<tr>
  <th>LarcenyTheft</th>  <td>-1.243e-14</td> <td> 2.67e-11</td> <td>   -0.000</td> <td> 1.000</td> <td>-5.25e-11</td> <td> 5.24e-11</td>
</tr>
<tr>
  <th>CarTheft</th>      <td> 5.329e-15</td> <td> 2.67e-11</td> <td>    0.000</td> <td> 1.000</td> <td>-5.25e-11</td> <td> 5.25e-11</td>
</tr>
<tr>
  <th>Arson</th>         <td>-8.882e-15</td> <td> 3.46e-12</td> <td>   -0.003</td> <td> 0.998</td> <td>-6.82e-12</td> <td>  6.8e-12</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>868.594</td> <th>  Durbin-Watson:     </th>  <td>   1.996</td>  
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>1996453.069</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-18.915</td> <th>  Prob(JB):          </th>  <td>    0.00</td>  
</tr>
<tr>
  <th>Kurtosis:</th>      <td>361.357</td> <th>  Cond. No.          </th>  <td>3.41e+06</td>  
</tr>
</table>
<p><br /><br />Warnings:<br />[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br />[2] The condition number is large, 3.41e+06. This might indicate that there are<br />strong multicollinearity or other numerical problems.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># try  with holdout
#  i am still using pca!
</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">neighbors</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">ytrain_pred</span> <span class="o">=</span> <span class="n">neighbors</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">'R2 for Train data with pca'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r2_score</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span> <span class="n">ytrain_pred</span><span class="p">))</span>

<span class="n">ytest_pred</span> <span class="o">=</span> <span class="n">neighbors</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">'R2 for Test data with pca'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">ytest_pred</span><span class="p">))</span>

</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>R2 for Train data with pca
0.9987831501
R2 for Train data with pca
0.774825201941
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0.128632388064
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

  </div><a class="u-url" href="/fastpages/experiment%20monitor/2015/07/15/wnb.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/fastpages/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/fastpages/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/fastpages/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Notes and projects</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/fastpages/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/fastpages/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
